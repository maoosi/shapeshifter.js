{"version":3,"file":"shapeshifter.js","sources":["../node_modules/knot.js/dist/knot.module.js","../node_modules/wait.js/dist/wait.mjs","../src/shapeshifter.js"],"sourcesContent":["var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar knot = function knot() {\n  var extended = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var events = Object.create(null);\n\n  function on(name, handler) {\n    events[name] = events[name] || [];\n    events[name].push(handler);\n    return this;\n  }\n\n  function once(name, handler) {\n    handler._once = true;\n    on(name, handler);\n    return this;\n  }\n\n  function off(name) {\n    var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    handler ? events[name].splice(events[name].indexOf(handler), 1) : delete events[name];\n\n    return this;\n  }\n\n  function emit(name) {\n    var _this = this;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // cache the events, to avoid consequences of mutation\n    var cache = events[name] && events[name].slice();\n\n    // only fire handlers if they exist\n    cache && cache.forEach(function (handler) {\n      // remove handlers added with 'once'\n      handler._once && off(name, handler);\n\n      // set 'this' context, pass args to handlers\n      handler.apply(_this, args);\n    });\n\n    return this;\n  }\n\n  return _extends({}, extended, {\n\n    on: on,\n    once: once,\n    off: off,\n    emit: emit\n  });\n};\n\nexport default knot;\n","/*!\n* wait.js 2.1.0 - JavaScript library to easily delay and chain class functions.\n*\n* @author       maoosi <hello@sylvainsimao.fr>\n* @homepage     https://github.com/maoosi/wait.js#readme\n* @copyright    Copyright (c) 2017 maoosi <hello@sylvainsimao.fr>\n* @license      MIT\n* @version      2.1.0\n*/\nvar classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Wait=function(){function t(){classCallCheck(this,t),this.waitQueue=[],this.waitExecution=!1}return createClass(t,[{key:\"handle\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.waitQueue.push({func:e,timeout:this._isAsyncFunc(e)?\"async\":n}),this.waitExecution||this._next(),t}},{key:\"pause\",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return this.handle(t,n,e)}},{key:\"_isAsyncFunc\",value:function(t){return t.toString().search(\"done()\")>-1}},{key:\"_exec\",value:function(t){var e=this;t.call(this,function(){e._next()})}},{key:\"_next\",value:function(){var t=this;if(this.waitQueue.length>0){this.waitExecution=!0;var e=this.waitQueue.shift(),n=e.func,i=e.timeout;\"async\"===i?this._exec(n):i!==!1?(this._exec(n),setTimeout(function(){t._next()},i)):(this._exec(n),this._next())}else this.waitExecution=!1}}]),t}(),wait=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(Function.prototype.bind.apply(Wait,[null].concat(e)))};export default wait;\n//# sourceMappingURL=wait.mjs.map\n","import knot from 'knot.js'\nimport Wait from 'wait.js'\n\nexport default class Shapeshifter {\n\n    /**\n        --- CONSTRUCTOR ---\n    **/\n\n    constructor (selector, options = {}) {\n        this.options = {\n            color: options.color || '#fff',\n            image: options.image || false,\n            shadow: options.shadow || false\n        }\n\n        this.selector = typeof selector === 'string'\n            ? document.querySelector(selector)\n            : selector\n\n        this.loaded = false\n        this.shape = false\n\n        this.emitter = knot()\n        this.waitter = Wait()\n\n        return this\n    }\n\n    /**\n        --- API ---\n    **/\n\n    init () {\n        return this.waitter.handle(this, () => {\n            this._createWrapper()\n            this._bindEvents()\n            this._preload()\n        })\n    }\n\n    shift (shape = false, mode = 'auto', shadow = true) {\n        return this.waitter.handle(this, () => {\n            this.shape = shape ? shape : [\n                [0, 0],\n                [1, 0],\n                [1, 1],\n                [0, 1]\n            ]\n            this.mode = mode\n            this.shadow = shadow\n\n            this._draw()\n        })\n    }\n\n    wait (milliseconds = 0) {\n        return this.waitter.handle(this, () => {\n            this.emitter.emit('wait', milliseconds)\n        }, milliseconds)\n    }\n\n    destroy () {\n        return this.waitter.handle(this, () => {\n            this._unbindEvents()\n\n            this.wrapper.parentNode.removeChild(this.wrapper)\n            this.loaded = false\n\n            this.emitter.emit('destroy')\n            this.emitter.off('destroy')\n            this.emitter.off('ready')\n            this.emitter.off('wait')\n        })\n    }\n\n    on (...args) { return this.emitter.on(...args) }\n    off (...args) { return this.emitter.off(...args) }\n\n    /**\n        --- CORE FUNCTIONS ---\n    **/\n\n    _throttle (callback, delay) {\n        let last\n        let timer\n\n        return () => {\n            let context = this\n            let now = +new Date()\n            let args = arguments\n\n            if (last && now < last + delay) {\n                clearTimeout(timer)\n                timer = setTimeout(() => {\n                    last = now\n                    callback.apply(context, args)\n                }, delay)\n            } else {\n                last = now\n                callback.apply(context, args)\n            }\n        }\n    }\n\n    _resize () {\n        this.canvas.width = this.selector.clientWidth\n        this.canvas.height = this.selector.clientHeight\n\n        if (this.options.shadow) {\n            this.shadowCanvas.width = this.canvas.width\n            this.shadowCanvas.height = this.canvas.height\n        }\n\n        this._draw()\n    }\n\n    _bindEvents () {\n        this.resize = this._throttle(() => {\n            this._resize()\n        }, 150)\n\n        window.addEventListener('resize', this.resize, false)\n    }\n\n    _unbindEvents () {\n        window.removeEventListener('resize', this.resize, false)\n    }\n\n    _createWrapper () {\n        this.wrapper = document.createElement('div')\n        this.wrapper.setAttribute('style', 'width:100%;height:100%;position:relative;overflow:visible;')\n        this.selector.appendChild(this.wrapper)\n\n        this._createMainCanvas()\n        if (this.options.shadow) {\n            this._createShadowCanvas()\n        }\n    }\n\n    _createMainCanvas () {\n        this.canvas = document.createElement('canvas')\n        this.wrapper.appendChild(this.canvas)\n        this.ctx = this.canvas.getContext('2d')\n        this.canvas.width = this.selector.clientWidth\n        this.canvas.height = this.selector.clientHeight\n    }\n\n    _createShadowCanvas () {\n        let translateX = this.options.shadow.translateX || '0'\n        let translateY = this.options.shadow.translateY || '0'\n        let shadowBlur = (this.options.shadow.blur) ? this.options.shadow.blur : 0\n\n        this.shadowCanvas = document.createElement('canvas')\n        this.shadowCanvas.setAttribute('style', 'top:0;left:0;position:absolute;z-index:-1;-webkit-transform:translateY(' + translateY + ') translateX(' + translateX + ');-ms-transform:translateY(' + translateY + ') translateX(' + translateX + ');transform:translateY(' + translateY + ') translateX(' + translateX + ');-webkit-filter:blur(' + shadowBlur + 'px);filter:blur(' + shadowBlur + 'px);')\n\n        this.wrapper.appendChild(this.shadowCanvas)\n        this.shadowCtx = this.shadowCanvas.getContext('2d')\n        this.shadowCanvas.width = this.selector.clientWidth\n        this.shadowCanvas.height = this.selector.clientHeight\n    }\n\n    _preload () {\n        if (this.options.image) {\n            this.image = new Image()\n            this.image.onload = () => {\n                if (!this.loaded) {\n                    this.loaded = true\n                    this.emitter.emit('ready', this.image)\n                }\n            }\n            this.image.src = this.options.image\n        } else {\n            if (!this.loaded) {\n                this.loaded = true\n                this.emitter.emit('ready', this.image)\n            }\n        }\n    }\n\n    _setDimensions () {\n        let parentWidth = this.selector.clientWidth\n        let parentHeight = this.selector.clientHeight\n        let parentRatio = parentWidth / parentHeight\n\n        if (this.options.image) {\n            let originalWidth = this.image.naturalWidth\n            let originalHeight = this.image.naturalHeight\n            let originalRatio = originalWidth / originalHeight\n\n            if (originalRatio >= parentRatio) {\n                this.displayHeight = parentHeight\n                this.displayWidth = (originalWidth * parentHeight) / originalHeight\n            } else {\n                this.displayWidth = parentWidth\n                this.displayHeight = (originalHeight * parentWidth) / originalWidth\n            }\n        } else {\n            this.displayHeight = parentHeight\n            this.displayWidth = parentWidth\n        }\n    }\n\n    _draw () {\n        this._drawMain()\n\n        if (this.options.shadow) {\n            this._drawShadow()\n        }\n    }\n\n    _drawMain () {\n        this._setDimensions()\n        this.ctx.clearRect(0, 0, this.displayWidth, this.displayHeight)\n\n        this.ctx = this._clipShape(this.canvas, this.ctx, this.shape)\n\n        if (this.options.image && this.mode !== 'color') {\n            let posX = ((this.displayWidth - this.canvas.width) / 2) * -1\n            let posY = ((this.displayHeight - this.canvas.height) / 2) * -1\n\n            this.ctx.drawImage(\n                this.image,\n                0, 0,\n                this.image.naturalWidth,\n                this.image.naturalHeight,\n                posX, posY,\n                this.displayWidth,\n                this.displayHeight\n            )\n        } else {\n            this.ctx.fillStyle = this.options.color\n            this.ctx.fillRect(0, 0, this.displayWidth, this.displayHeight)\n        }\n\n        this.ctx.restore()\n    }\n\n    _drawShadow () {\n        this.shadowCtx.clearRect(0, 0, this.displayWidth, this.displayHeight)\n\n        if (this.shadow) {\n            this.shadowCtx = this._clipShape(this.shadowCanvas, this.shadowCtx, this.shape, this.shadowBlur)\n\n            this.shadowCtx.fillStyle = this.options.shadow.color\n            this.shadowCtx.fillRect(0, 0, this.displayWidth, this.displayHeight)\n\n            this.shadowCtx.restore()\n        }\n    }\n\n    _clipShape (canvas, ctx, shape) {\n        let w = canvas.width\n        let h = canvas.height\n        let s = shape\n\n        ctx.save()\n        ctx.beginPath()\n\n        ctx.moveTo(w * s[0][0], h * s[0][1])\n        for (let n = 1; n < s.length; n++) {\n            ctx.lineTo(w * s[n][0], h * s[n][1])\n        }\n\n        ctx.closePath()\n        ctx.clip()\n\n        return ctx\n    }\n}\n"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","knot","on","name","handler","events","push","this","once","_once","off","undefined","splice","indexOf","emit","_this","_len","args","Array","_key","cache","slice","forEach","apply","extended","create","classCallCheck","t","e","TypeError","createClass","n","enumerable","configurable","writable","defineProperty","Wait","waitQueue","waitExecution","value","func","timeout","_isAsyncFunc","_next","handle","toString","search","shift","_exec","setTimeout","wait","Function","bind","concat","Shapeshifter","selector","options","color","image","shadow","document","querySelector","loaded","shape","emitter","waitter","_createWrapper","_bindEvents","_preload","mode","_draw","milliseconds","_unbindEvents","wrapper","parentNode","removeChild","_this4","callback","delay","last","timer","context","now","Date","canvas","width","clientWidth","height","clientHeight","shadowCanvas","resize","_throttle","_resize","addEventListener","removeEventListener","createElement","setAttribute","appendChild","_createMainCanvas","_createShadowCanvas","ctx","getContext","translateX","translateY","shadowBlur","blur","shadowCtx","Image","onload","_this7","src","parentWidth","parentHeight","parentRatio","originalWidth","naturalWidth","originalHeight","naturalHeight","originalRatio","displayHeight","displayWidth","_drawMain","_drawShadow","_setDimensions","clearRect","_clipShape","posX","posY","drawImage","fillStyle","fillRect","restore","w","h","s","save","beginPath","moveTo","lineTo","closePath","clip"],"mappings":"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"}